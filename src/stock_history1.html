<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <title>Stock & Price History - ImaPOS</title>
    <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />

    <script type="module" src="https://unpkg.com/@ionic/pwa-elements@latest/dist/ionicpwaelements/ionicpwaelements.esm.js"></script>
    <script nomodule src="https://unpkg.com/@ionic/pwa-elements@latest/dist/ionicpwaelements/ionicpwaelements.js"></script>

    <link rel="icon" type="image/x-icon" href="./assets/icon/favicon.ico" />
    <link rel="manifest" href="./manifest.json" />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/stockstyle.css" />
    <meta name="theme-color" content="#31d53d" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
  </head>
  <body>
    <div id="navigation-bar-for-application-head">
      <div class="navigation-bar-for-application-head-navbar">
        <div class="navigation-bar-for-application-head-content">
          <div class="navigation-bar-for-application-head-content-left">
            <div class="navigation-bar-for-application-head-content-right-button" onclick="history.back()">
              <img src="./assets/imgs/keyboard_backspace_50dp_FFFFFF_FILL0_wght400_GRAD0_opsz48.png" alt="" style="width: 28px;">
            </div>
          </div>
          <div class="navigation-bar-for-application-head-content-center">
            <div class="navbar-app-LOGO-img">
              <img src="./assets/imgs/IMAPOS_LOGO.png" alt="">
            </div>
          </div>
          <div class="navigation-bar-for-application-head-content-right">
            <div class="navigation-bar-for-application-head-content-right-c">
              <div class="navigation-bar-for-application-head-content-right-button" onclick="openMenuTransient()">
                <img src="./assets/imgs/dashboard_50dp_FFFFFF_FILL1_wght400_GRAD0_opsz48.png" alt="" style="width: 25px;padding-top: 2px;">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="navigation-bar-for-application-head-navbar-space"></div>
    </div>

    <div id="transient-menu" style="display: none;">
      <div class="application-sideba-for-manage-content">
        <div class="application-sideba-for-manage-content-card-layout">
          <a href="./stock_manage.html">
            <div class="application-sideba-for-manage-content-card-layout-card">
              <div class="application-sideba-for-manage-content-card-layout-content">
                <div class="application-sideba-for-manage-content-card-layout-img">
                  <img src="./assets/imgs/inventory_100dp_FFFFFF_FILL1_wght400_GRAD0_opsz48.png" alt="">
                </div>
                <div class="application-sideba-for-manage-content-card-layout-txt">Stock Management</div>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>

    <script>
      function openMenuTransient() {
        const el = document.getElementById("transient-menu");
        el.style.display = el.style.display === "block" ? "none" : "block";
        if (el.style.display === "block") {
          setTimeout(() => { el.style.display = "none"; }, 3000);
        }
      }
    </script>

    <div class="main-content">
      <div class="search-filter-bar" style="padding: 10px;">
        <input type="text" id="history-search" placeholder="Search items..." class="search-input">
      </div>

      <div id="history-items-grid" class="stock-items-grid">
        <div class="stock-items-grid-asdasd0-asdasd-dgse12-sad">
          <div id="loading-spinner" class="loading-spinner">
            <div class="spinner"></div>
            <p>Loading items...</p>
          </div>
        </div>
      </div>
    </div>

    <div id="item-history-modal" class="modal" style="display: none;">
      <div class="modal-content-for-show-buttons">
        <div class="modal-header modal-header-item-history-head" style="display: flex;align-items: center;">
          <h2 id="item-history-title">Item History</h2>      
          <button onclick="document.getElementById('item-history-modal').style.display='none'">
            <div class="navigation-bar-for-application-head-content-right-button-sd" style="align-items: center;">
              <img src="./assets/imgs/keyboard_backspace_50dp_FFFFFF_FILL0_wght400_GRAD0_opsz48.png" alt=""> Back
            </div>
          </button>
        </div>

        <div class="history-chart-wrap" style="padding: 0 16px 12px 16px;">
            <canvas id="item-history-chart" height="160"></canvas>
          </div>

        <div id="item-history-content" style="padding: 10px 16px 12px 16px;"></div>

        <div class="modal-content-for-show-buttons-buttons-content-asdsad-sd-content">

        </div>
      </div>
    </div>

    <script type="module" src="./js/stock_history.js"></script>
    <script type="module" src="./js/navbar.js"></script>
  </body>
  </html>